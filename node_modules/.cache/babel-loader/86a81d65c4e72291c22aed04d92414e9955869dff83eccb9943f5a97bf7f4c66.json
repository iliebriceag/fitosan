{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      products: [],\n      cart: [],\n      user: {\n        name: \"user\",\n        dinero: 1000\n      }\n    };\n  },\n  created() {\n    this.fetchApi();\n  },\n  methods: {\n    fetchApi() {\n      const dataApi = localStorage.getItem(\"db\");\n      if (dataApi != null) {\n        this.products = JSON.parse(dataApi);\n      } else {\n        this.products = products;\n        localStorage.setItem(\"db\", JSON.stringify(products));\n      }\n    },\n    addCart(product) {\n      const itemCart = this.cart.filter(item => item.id == product.id)[0];\n      if (itemCart != undefined) {\n        itemCart.cant++;\n      } else {\n        const itemCart = {\n          id: product.id,\n          name: product.name,\n          price: product.price,\n          moneda: product.moneda,\n          cant: 1\n        };\n        this.cart.push(itemCart);\n      }\n      product.stock--;\n    },\n    removeCart(product) {\n      const itemCart = this.products.filter(item => item.id == product.id)[0];\n      itemCart.stock += product.cant;\n      let indiceProduct = 0;\n      this.cart.forEach((item, i) => item.id == product.id ? indiceProduct = i : null);\n      this.cart.splice(indiceProduct, 1);\n    },\n    cleanCart() {\n      this.cart = [];\n    }\n  },\n  computed: {\n    cantProductsInCart() {\n      return this.cart.reduce((acc, item) => acc + item.cant, 0);\n    },\n    totalPriceCart() {\n      return this.cart.reduce((acc, item) => acc + item.cant * item.price, 0);\n    }\n  }\n};","map":{"version":3,"names":["data","products","cart","user","name","dinero","created","fetchApi","methods","dataApi","localStorage","getItem","JSON","parse","setItem","stringify","addCart","product","itemCart","filter","item","id","undefined","cant","price","moneda","push","stock","removeCart","indiceProduct","forEach","i","splice","cleanCart","computed","cantProductsInCart","reduce","acc","totalPriceCart"],"sources":["D:\\My Projects\\sere-prj\\src\\components\\Cart.vue"],"sourcesContent":["<template>\r\n    <div class=\"nr-product\">\r\n        <span class=\"status d-flex justify-content-center align-items-center\"> {{ cantProductsInCart }}</span>\r\n        <a class=\"cart\"><i class=\"bi bi-cart2 d-flex justify-content-center align-items-center\"></i><span\r\n                class=\"none\">Coș cumpărături</span></a>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.nr-product {\r\n    position: relative;\r\n}\r\n\r\n.status {\r\n    position: fixed;\r\n    bottom: 50px;\r\n    left: 240px;\r\n    z-index: 1;\r\n    padding: 5px;\r\n    width: 30px;\r\n    border-radius: 40px;\r\n    background-color: rgb(228, 7, 7);\r\n    color: white;\r\n    font-size: .8rem;\r\n}\r\n\r\n.cart {\r\n    position: fixed;\r\n    left: 125px;\r\n    color: #fff;\r\n    padding: 15px;\r\n    box-shadow: 1px 1px 5px #222;\r\n    -o-box-shadow: 1px 1px 5px #222;\r\n    -webkit-box-shadow: 1px 1px 5px #222;\r\n    -moz-box-shadow: 1px 1px 5px #222;\r\n    -ms-box-shadow: 1px 1px 5px #222;\r\n    font-weight: 300;\r\n    color: #DDD;\r\n    cursor: pointer;\r\n    border-top-left-radius: 30px;\r\n    border-top-right-radius: 30px;\r\n    bottom: 0;\r\n    background-color: #008080;\r\n    border: none;\r\n    text-decoration: none;\r\n}\r\n\r\n@media only screen and (max-width : 361px) {\r\n    .none {\r\n        display: none;\r\n    }\r\n\r\n    .cart {\r\n        height: 70px;\r\n    }\r\n\r\n    .status {\r\n        left: 155px;\r\n    }\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            products: [],\r\n            cart: [],\r\n            user: {\r\n                name: \"user\",\r\n                dinero: 1000\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchApi();\r\n    },\r\n    methods: {\r\n        fetchApi() {\r\n            const dataApi = localStorage.getItem(\"db\");\r\n            if (dataApi != null) {\r\n                this.products = JSON.parse(dataApi);\r\n            } else {\r\n                this.products = products;\r\n                localStorage.setItem(\"db\", JSON.stringify(products));\r\n            }\r\n        },\r\n        addCart(product) {\r\n            const itemCart = this.cart.filter((item) => item.id == product.id)[0];\r\n            if (itemCart != undefined) {\r\n                itemCart.cant++;\r\n            } else {\r\n                const itemCart = {\r\n                    id: product.id,\r\n                    name: product.name,\r\n                    price: product.price,\r\n                    moneda: product.moneda,\r\n                    cant: 1\r\n                };\r\n                this.cart.push(itemCart);\r\n            }\r\n            product.stock--;\r\n        },\r\n        removeCart(product) {\r\n            const itemCart = this.products.filter((item) => item.id == product.id)[0];\r\n            itemCart.stock += product.cant;\r\n            let indiceProduct = 0;\r\n            this.cart.forEach((item, i) =>\r\n                item.id == product.id ? (indiceProduct = i) : null\r\n            );\r\n            this.cart.splice(indiceProduct, 1);\r\n        },\r\n        cleanCart() {\r\n            this.cart = [];\r\n        }\r\n    },\r\n    computed: {\r\n        cantProductsInCart() {\r\n            return this.cart.reduce((acc, item) => acc + item.cant, 0);\r\n        },\r\n        totalPriceCart() {\r\n            return this.cart.reduce((acc, item) => acc + item.cant * item.price, 0);\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":";AA+DA,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;QACFC,IAAI,EAAE,MAAM;QACZC,MAAM,EAAE;MACZ;IACJ;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,QAAQ,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACLD,QAAQA,CAAA,EAAG;MACP,MAAME,OAAM,GAAIC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;MAC1C,IAAIF,OAAM,IAAK,IAAI,EAAE;QACjB,IAAI,CAACR,QAAO,GAAIW,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC;MACvC,OAAO;QACH,IAAI,CAACR,QAAO,GAAIA,QAAQ;QACxBS,YAAY,CAACI,OAAO,CAAC,IAAI,EAAEF,IAAI,CAACG,SAAS,CAACd,QAAQ,CAAC,CAAC;MACxD;IACJ,CAAC;IACDe,OAAOA,CAACC,OAAO,EAAE;MACb,MAAMC,QAAO,GAAI,IAAI,CAAChB,IAAI,CAACiB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAC,IAAKJ,OAAO,CAACI,EAAE,CAAC,CAAC,CAAC,CAAC;MACrE,IAAIH,QAAO,IAAKI,SAAS,EAAE;QACvBJ,QAAQ,CAACK,IAAI,EAAE;MACnB,OAAO;QACH,MAAML,QAAO,GAAI;UACbG,EAAE,EAAEJ,OAAO,CAACI,EAAE;UACdjB,IAAI,EAAEa,OAAO,CAACb,IAAI;UAClBoB,KAAK,EAAEP,OAAO,CAACO,KAAK;UACpBC,MAAM,EAAER,OAAO,CAACQ,MAAM;UACtBF,IAAI,EAAE;QACV,CAAC;QACD,IAAI,CAACrB,IAAI,CAACwB,IAAI,CAACR,QAAQ,CAAC;MAC5B;MACAD,OAAO,CAACU,KAAK,EAAE;IACnB,CAAC;IACDC,UAAUA,CAACX,OAAO,EAAE;MAChB,MAAMC,QAAO,GAAI,IAAI,CAACjB,QAAQ,CAACkB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAC,IAAKJ,OAAO,CAACI,EAAE,CAAC,CAAC,CAAC,CAAC;MACzEH,QAAQ,CAACS,KAAI,IAAKV,OAAO,CAACM,IAAI;MAC9B,IAAIM,aAAY,GAAI,CAAC;MACrB,IAAI,CAAC3B,IAAI,CAAC4B,OAAO,CAAC,CAACV,IAAI,EAAEW,CAAC,KACtBX,IAAI,CAACC,EAAC,IAAKJ,OAAO,CAACI,EAAC,GAAKQ,aAAY,GAAIE,CAAC,GAAI,IAClD,CAAC;MACD,IAAI,CAAC7B,IAAI,CAAC8B,MAAM,CAACH,aAAa,EAAE,CAAC,CAAC;IACtC,CAAC;IACDI,SAASA,CAAA,EAAG;MACR,IAAI,CAAC/B,IAAG,GAAI,EAAE;IAClB;EACJ,CAAC;EACDgC,QAAQ,EAAE;IACNC,kBAAkBA,CAAA,EAAG;MACjB,OAAO,IAAI,CAACjC,IAAI,CAACkC,MAAM,CAAC,CAACC,GAAG,EAAEjB,IAAI,KAAKiB,GAAE,GAAIjB,IAAI,CAACG,IAAI,EAAE,CAAC,CAAC;IAC9D,CAAC;IACDe,cAAcA,CAAA,EAAG;MACb,OAAO,IAAI,CAACpC,IAAI,CAACkC,MAAM,CAAC,CAACC,GAAG,EAAEjB,IAAI,KAAKiB,GAAE,GAAIjB,IAAI,CAACG,IAAG,GAAIH,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC;IAC3E;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}